В качестве проектной работы (и ДЗ) хочу выбрать разработку системы онлайн бронирования (записи), один из примеров коммерческого сервиса https://www.yclients.com/  
Цель сервиса: Компании, предоставляющие услуги Клиентам (стоматология, уроки английского, барбершоп) регистрируются и составляют расписание работы (свободные слоты, которые может выбирать Клиент). Клиент получает ссылку на страницу Компании и может самостоятельно записываться на свободное время. Запись происходит либо автоматически, либо после подтверждения со стороны Компании.  
Профит: автоматизация процесса записи (упрощение для Клиента), формирование клиентской базы для дальнейшей работы с ней (акции, программа лояльности и проч.)


User story
Я как не авторизированный пользователь:
* хочу иметь возможность зарегистрироваться в качестве Компании или Клиента
* хочу иметь возможность зайти под своей учетной записью
* хочу иметь возможность перейти по ссылке, полученной от Компании для регистрации/логина с автоматическим переходом к Записи


Я как авторизированный специалист Компании:
* хочу иметь возможность создавать и редактировать свои Услуги (Наименование, Цена, Длительность, Макс число клиентов (для групповых занятий), Описание)
* хочу иметь возможность составить свой Рабочий график (День недели, список Интервал (один или несколько для каждого дня), список Услуг)
* хочу иметь возможность добавить Отпуск (todo)

* хочу иметь возможность просматривать Записи на выбранный период (Расписание, начиная с текущей даты)
* хочу иметь возможность просматривать историю Записей (до текущей даты)
* хочу иметь возможность просматривать список всех моих Клиентов

* хочу иметь возможность подтверждать каждую запись вручную или автоматически
* хочу иметь возможность отменять каждую запись или записи для заданного диапазона дней (для групповых Записей отменять все занятие или отменять занятие для конкретного Клиента)

* хочу получать Уведомления о новых Записях, об отмене Записи со стороны клиента, Напоминания о расписании на день и перед началом каждой сессии

Я как авторизированный Клиент:
* хочу иметь возможность отправить запрос на Запись на занятие
* хочу иметь возможность отменять Запись
* хочу получать Уведомления о подтверждении Записи, об отмене Записи, Напоминание за день и за час до записи
* хочу иметь возможность просматривать свои историю Записей


Назначение сервисов и зоны ответственности.
1. core-service (ядро системы) состоит из двух модулей (Spring Modulith) client и pro с обособленными таблицами в БД.
   client инкапсулирует логику и предоставляет api для работы личного кабинета Клиентов.
   pro инкапсулирует логику и предоставляет api для работы личного кабинета Компаний.
   взаимодействие по api но без использования сети + разделение на уровне таблиц базы

2. notification-service отправляет как Компаниям так и Клиентам два вида сообщений:
* Уведомления -- после определенного события, например: получена новая запись
* Напоминания -- по установленному графику (например: за час до записи, за день до записи и т.д.)
  взаимодействие notification-service и core-service через брокера сообщений
  notification-service отправляет уведомления в telegram

3. security-service

Авторизация, аутентификация на основе технологии Keycloack, между сервисами по SSL.

Схема БД для core-service

1. Таблицы для домена (модуля) Компания

-- Услуги
create table if not exists core_db.services (
id uuid PRIMARY KEY,
name varchar(256) NOT NULL,
duration int NOT NULL,
max_client_capacity int NOT NULL,
deteled boolean
);

-- Запись на услугу
create table if not exists core_db.appointments (
id uuid PRIMARY KEY,
client_id uuid NOT NULL,
status varchar(32) NOT NULL,
created_at timestamp,
updated_at timestamp

	constraint fk_client
		foreign key(client_id)
		references core_db.clients(id)
		on delete cascade,
);

-- Рассписание
create table if not exists core_db.schedules (
id uuid PRIMARY KEY,
date date NOT NULL,
time time(0) NOT NULL,
service_id uuid NOT NULL,
appointment_id uuid NOT NULL,

	constraint fk_service
		foreign key(service_id)
		references core_db.services(id)
		on delete cascade,

	constraint fk_appointment
		foreign key(appointment_id)
		references core_db.appointments(id)
		on delete cascade

)

-- Клиенты
create table if not exists core_db.clients (
id uuid PRIMARY KEY,
username varchar(64) NOT NULL,
first_name varchar(64),
second_name varchar(64),
date_of_birth date
)

2. Таблицы для домена (модуля) Клиент

-- Запланированные посещения
create table if not exists core_db.scheduled_services (
id uuid PRIMARY KEY,
customer_id uuid NOT NULL,
date date NOT NULL,
time time(0) NOT NULL,
service_name varchar(256) NOT NULL,
status varchar(32) NOT NULL,
created_at timestamp
)